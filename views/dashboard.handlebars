<section id="dashboardOverview">
    <h1>Dashboard Overview</h1>

    <div class="dashGrid">

        <!-- Statistics Summary -->
        <div class="card statusCard">
            <h2>Work Order Statistics</h2>
            <div class="statsGrid">
                <div class="statItem">
                    <span class="statNumber">{{statistics.total}}</span>
                    <span class="statLabel">Total Jobs</span>
                </div>
                <div class="statItem">
                    <span class="statNumber">{{statistics.completed}}</span>
                    <span class="statLabel">Completed</span>
                </div>
                <div class="statItem">
                    <span class="statNumber">{{statistics.inProgress}}</span>
                    <span class="statLabel">In Progress</span>
                </div>
                <div class="statItem">
                    <span class="statNumber">{{statistics.notStarted}}</span>
                    <span class="statLabel">Not Started</span>
                </div>
            </div>
            <a href="/statistics" class="viewLink">View detailed statistics ‚Üí</a>
        </div>

        <!-- Alerts -->
        <div class="card alertsCard">
            <h2>Emergency Alerts</h2>
            {{#if alerts}}
                <div class="alertList">
                    {{#each alerts}}
                        <div class="alertItem">
                            <span class="alertIcon">‚ö†Ô∏è</span>
                            <div class="alertContent">
                                <strong>{{this.name}}</strong>
                                <p>{{this.message}}</p>
                                <small>{{this.email}}</small>
                            </div>
                        </div>
                    {{/each}}
                </div>
            {{else}}
                <p class="noData">No emergency alerts at this time.</p>
            {{/if}}
            <a href="/notifications" class="viewLink">View all notifications ‚Üí</a>
        </div>

        <!-- Overdue Jobs -->
        <div class="card overdueCard">
            <h2>Overdue Work Orders</h2>
            {{#if overdueJobs}}
                <div class="overdueList">
                    {{#each overdueJobs}}
                        <div class="overdueItem">
                            <strong>{{this.workOrderId}}</strong>
                            <p>{{this.description}}</p>
                            <small>Due: {{this.estimatedEndDate}}</small>
                        </div>
                    {{/each}}
                </div>
            {{else}}
                <p class="noData">There are no overdue work orders.</p>
            {{/if}}
            <a href="/notifications" class="viewLink">View all notifications ‚Üí</a>
        </div>

        <!-- Placeholder for Work Orders Card -->
        <!-- Edit Below -->
        <div class="card workOrdersCard">
            <h2>{{#if isContractor}}My Assigned Work Orders{{else}}Recent Work
                    Orders{{/if}}</h2>
            {{#if assignedWorkOrders.length}}
                <div class="alertList">
                    {{#each assignedWorkOrders}}
                        <div class="alertItem">
                            <div class="alertHeader">
                                <strong>{{this.companyName}}</strong>
                                <span class="statusBadge">{{this.status}}" ></span>
                            </div>
                            <p class="alertMessage">{{this.address}},
                                {{this.city}},
                                {{this.state}}</p>
                            <div class="alertContact">
                                <small>Priority: {{this.priority}}</small>
                                {{#if this.estimatedEndDate}}
                                    <small>Due:
                                        {{this.estimatedEndDate}}</small>
                                {{/if}}
                            </div>
                            <a
                                href="/work-orders/{{this._id}}"
                                class="viewLink"
                            >View Details ‚Üí</a>
                        </div>
                    {{/each}}
                </div>
            {{else}}
                <p class="noData">No work orders assigned to you yet.</p>
            {{/if}}
            <a href="/work-orders" class="viewLink">View all work orders ‚Üí</a>
        </div>

        <!-- Placeholder for Daily Schedule Card -->
        <!-- Edit Below -->
        <div class="card scheduleCard placeholder">
            <h2>Today's Schedule</h2>
            <p class="placeholderText">üìÖ Daily Schedule feature coming soon!</p>
            <p class="placeholderNote">Coming Soon!</p>
            <a href="/admin/schedule" class="viewLink disabled">View full
                schedule ‚Üí</a>
        </div>

    </div>
</section>